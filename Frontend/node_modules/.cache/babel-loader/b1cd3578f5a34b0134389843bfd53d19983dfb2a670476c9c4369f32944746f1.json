{"ast":null,"code":"var _jsxFileName = \"/Users/ge/Desktop/FSProject/Frontend/src/components/userProfilePage.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport { useLocation } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { deleteUserByAdmin, getAllUsersAdmin, getUserById, updateUser, updateUserByAdmin } from \"../services/userService\";\nimport { getAllCards } from \"../services/RecipeService\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserProfilePage = () => {\n  _s();\n  const {\n    userId\n  } = useAuth();\n  const location = useLocation();\n  const fileInputRef = useRef(null);\n  const [profileImg, setProfileImg] = useState(localStorage.getItem(\"profileImg\") || \"\");\n  const [user, setUser] = useState(null);\n  const [likedCards, setLikedCards] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [editValues, setEditValues] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\"\n  });\n  const [pwMode, setPwMode] = useState(false);\n  const [pwValues, setPwValues] = useState({\n    current: \"\",\n    next: \"\",\n    confirm: \"\"\n  });\n  const [pwError, setPwError] = useState(\"\");\n  const [pwSuccess, setPwSuccess] = useState(\"\");\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [adminUsers, setAdminUsers] = useState([]);\n  const [editingAdminUserId, setEditingAdminUserId] = useState(\"\");\n  const [adminEditValues, setAdminEditValues] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\"\n  });\n  const loadAdminUsers = async () => {\n    try {\n      const res = await getAllUsersAdmin();\n      const usersData = Array.isArray(res.data) ? res.data : [];\n      const normalized = usersData.map(item => ({\n        _id: String(item._id || \"\"),\n        firstName: item.firstName || \"\",\n        lastName: item.lastName || \"\",\n        email: item.email || \"\",\n        isAdmin: Boolean(item.isAdmin)\n      }));\n      setAdminUsers(normalized);\n    } catch (err) {\n      var _err$response;\n      toast.error((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || \"Failed to load users.\");\n    }\n  };\n  useEffect(() => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        const decoded = jwtDecode(token);\n        setIsAdmin(Boolean(decoded === null || decoded === void 0 ? void 0 : decoded.isAdmin));\n      } else {\n        setIsAdmin(false);\n      }\n    } catch {\n      setIsAdmin(false);\n    }\n    if (!userId) return;\n    getUserById().then(res => {\n      const u = res.data;\n      setUser({\n        firstName: u.firstName || \"\",\n        lastName: u.lastName || \"\",\n        email: u.email || \"\"\n      });\n      setEditValues({\n        firstName: u.firstName || \"\",\n        lastName: u.lastName || \"\",\n        email: u.email || \"\"\n      });\n    }).catch(() => {});\n    getAllCards().then(res => {\n      var _res$data;\n      const all = (Array.isArray(res.data) ? res.data : Array.isArray((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.cards) ? res.data.cards : []).map(item => {\n        var _item$image;\n        return {\n          _id: String(item._id || item.id),\n          title: item.title || \"Untitled\",\n          description: item.description || \"\",\n          imageUrl: item.imageUrl || ((_item$image = item.image) === null || _item$image === void 0 ? void 0 : _item$image.url) || \"\",\n          isLiked: item.isLiked\n        };\n      });\n      setLikedCards(all.filter(c => c.isLiked));\n    }).catch(() => {});\n    if (localStorage.getItem(\"token\")) {\n      try {\n        const decoded = jwtDecode(localStorage.getItem(\"token\") || \"\");\n        if (decoded !== null && decoded !== void 0 && decoded.isAdmin) {\n          loadAdminUsers();\n        }\n      } catch {}\n    }\n  }, [userId, location]);\n  const startAdminEdit = adminUser => {\n    setEditingAdminUserId(adminUser._id);\n    setAdminEditValues({\n      firstName: adminUser.firstName,\n      lastName: adminUser.lastName,\n      email: adminUser.email\n    });\n  };\n  const saveAdminEdit = async () => {\n    if (!editingAdminUserId) return;\n    try {\n      await updateUserByAdmin(editingAdminUserId, {\n        firstName: adminEditValues.firstName,\n        lastName: adminEditValues.lastName,\n        email: adminEditValues.email\n      });\n      toast.success(\"User updated.\");\n      setEditingAdminUserId(\"\");\n      await loadAdminUsers();\n    } catch (err) {\n      var _err$response2;\n      toast.error((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data) || \"Failed to update user.\");\n    }\n  };\n  const removeAdminUser = async adminUserId => {\n    const ok = window.confirm(\"Delete this user?\");\n    if (!ok) return;\n    try {\n      await deleteUserByAdmin(adminUserId);\n      toast.success(\"User deleted.\");\n      await loadAdminUsers();\n    } catch (err) {\n      var _err$response3;\n      toast.error((err === null || err === void 0 ? void 0 : (_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data) || \"Failed to delete user.\");\n    }\n  };\n  const handleImageChange = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      const img = new Image();\n      img.onload = () => {\n        const canvas = document.createElement(\"canvas\");\n        const MAX = 200;\n        const ratio = Math.min(MAX / img.width, MAX / img.height);\n        canvas.width = img.width * ratio;\n        canvas.height = img.height * ratio;\n        canvas.getContext(\"2d\").drawImage(img, 0, 0, canvas.width, canvas.height);\n        const compressed = canvas.toDataURL(\"image/jpeg\", 0.7);\n        setProfileImg(compressed);\n        try {\n          localStorage.removeItem(\"profileImg\");\n          localStorage.setItem(\"profileImg\", compressed);\n        } catch {\n          // still show the photo in-session even if storage is full\n        }\n      };\n      img.src = reader.result;\n    };\n    reader.readAsDataURL(file);\n  };\n  const handleEditSave = async () => {\n    try {\n      const uid = localStorage.getItem(\"userId\") || \"\";\n      await updateUser(uid, {\n        id: 0,\n        firstName: editValues.firstName,\n        lastName: editValues.lastName,\n        email: editValues.email,\n        password: \"\"\n      });\n      // Re-fetch from server to confirm the saved data\n      const res = await getUserById();\n      const u = res.data;\n      const updated = {\n        firstName: u.firstName || \"\",\n        lastName: u.lastName || \"\",\n        email: u.email || \"\"\n      };\n      setUser(updated);\n      setEditValues(updated);\n      setEditMode(false);\n      toast.success(\"Profile updated!\");\n    } catch (err) {\n      var _err$response4;\n      toast.error((err === null || err === void 0 ? void 0 : (_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.data) || \"Failed to save profile.\");\n    }\n  };\n  const handlePasswordSave = () => {\n    setPwError(\"\");\n    setPwSuccess(\"\");\n    if (!pwValues.current) {\n      setPwError(\"Please enter your current password.\");\n      return;\n    }\n    if (pwValues.next.length < 6) {\n      setPwError(\"New password must be at least 6 characters.\");\n      return;\n    }\n    if (pwValues.next !== pwValues.confirm) {\n      setPwError(\"Passwords do not match.\");\n      return;\n    }\n    setPwSuccess(\"Password updated successfully!\");\n    setPwValues({\n      current: \"\",\n      next: \"\",\n      confirm: \"\"\n    });\n    setTimeout(() => {\n      setPwMode(false);\n      setPwSuccess(\"\");\n    }, 1500);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: \"#000000\",\n      minHeight: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-5 fw-bold\",\n        style: {\n          color: \"#5F9598\",\n          letterSpacing: \"1px\"\n        },\n        children: \"My Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow mx-auto mb-5\",\n        style: {\n          maxWidth: \"680px\",\n          borderRadius: \"16px\",\n          overflow: \"hidden\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: \"#1D546D\",\n            height: \"90px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          style: {\n            marginTop: \"-55px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"position-relative d-inline-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: profileImg || `https://ui-avatars.com/api/?name=${user === null || user === void 0 ? void 0 : user.firstName}+${user === null || user === void 0 ? void 0 : user.lastName}&size=110&background=1D546D&color=fff&bold=true`,\n              alt: \"Profile\",\n              className: \"rounded-circle border border-4 border-white shadow\",\n              style: {\n                width: \"110px\",\n                height: \"110px\",\n                objectFit: \"cover\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm rounded-circle position-absolute bottom-0 end-0\",\n              style: {\n                backgroundColor: \"#5F9598\",\n                color: \"#fff\",\n                width: \"32px\",\n                height: \"32px\",\n                padding: 0,\n                border: \"2px solid white\"\n              },\n              title: \"Change photo\",\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-camera\",\n                style: {\n                  fontSize: \"0.75rem\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: fileInputRef,\n              type: \"file\",\n              accept: \"image/*\",\n              style: {\n                display: \"none\"\n              },\n              onChange: handleImageChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body px-5 pb-4\",\n          children: [!editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"fw-bold mt-2\",\n              style: {\n                color: \"#061E29\"\n              },\n              children: user ? `${user.firstName} ${user.lastName}` : \"â€”\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-1\",\n              children: user === null || user === void 0 ? void 0 : user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm mt-3\",\n              style: {\n                backgroundColor: \"#1D546D\",\n                color: \"#F3F4F4\",\n                border: \"none\",\n                borderRadius: \"8px\"\n              },\n              onClick: () => setEditMode(true),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-regular fa-pen-to-square me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this), \"Edit Profile\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm mt-3 ms-2\",\n              style: {\n                backgroundColor: \"#5F9598\",\n                color: \"#F3F4F4\",\n                border: \"none\",\n                borderRadius: \"8px\"\n              },\n              onClick: () => setPwMode(v => !v),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-lock me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), \"Change Password\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row g-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"First Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  value: editValues.firstName,\n                  onChange: e => setEditValues(v => ({\n                    ...v,\n                    firstName: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"Last Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  value: editValues.lastName,\n                  onChange: e => setEditValues(v => ({\n                    ...v,\n                    lastName: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  value: editValues.email,\n                  onChange: e => setEditValues(v => ({\n                    ...v,\n                    email: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm flex-fill\",\n                style: {\n                  backgroundColor: \"#1D546D\",\n                  color: \"#F3F4F4\",\n                  border: \"none\"\n                },\n                onClick: handleEditSave,\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm btn-outline-secondary flex-fill\",\n                onClick: () => setEditMode(false),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), pwMode && !editMode && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 border-top pt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"fw-semibold mb-3\",\n              style: {\n                color: \"#1D546D\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-lock me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this), \"Change Password\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this), pwError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger py-2 small\",\n              children: pwError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 19\n            }, this), pwSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-success py-2 small\",\n              children: pwSuccess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row g-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"Current Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n                  value: pwValues.current,\n                  onChange: e => setPwValues(v => ({\n                    ...v,\n                    current: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"New Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n                  value: pwValues.next,\n                  onChange: e => setPwValues(v => ({\n                    ...v,\n                    next: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"Confirm New Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n                  value: pwValues.confirm,\n                  onChange: e => setPwValues(v => ({\n                    ...v,\n                    confirm: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm flex-fill\",\n                style: {\n                  backgroundColor: \"#5F9598\",\n                  color: \"#F3F4F4\",\n                  border: \"none\"\n                },\n                onClick: handlePasswordSave,\n                children: \"Update Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm btn-outline-secondary flex-fill\",\n                onClick: () => {\n                  setPwMode(false);\n                  setPwError(\"\");\n                  setPwValues({\n                    current: \"\",\n                    next: \"\",\n                    confirm: \"\"\n                  });\n                },\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"fw-bold mb-4 text-center\",\n        style: {\n          color: \"#5F9598\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-heart text-danger me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this), \"My Favorite Recipes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this), likedCards.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: likedCards.map(card => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 mb-4 px-3\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"h-100 shadow\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              variant: \"top\",\n              src: card.imageUrl,\n              alt: card.title,\n              style: {\n                height: \"180px\",\n                objectFit: \"cover\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: card.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                className: \"text-muted\",\n                children: card.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n              className: \"bg-white border-0 text-end\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-heart text-danger\",\n                style: {\n                  fontSize: \"1.3rem\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 17\n          }, this)\n        }, card._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center\",\n        style: {\n          color: \"#DCE7EA\"\n        },\n        children: [\"No liked recipes yet. Start exploring and hit the\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-regular fa-heart text-danger\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this), \" on recipes you love!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 11\n      }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"fw-bold mb-3 text-center\",\n          style: {\n            color: \"#5F9598\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-users me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this), \"Admin - All Users\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-dark table-striped align-middle\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"First Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Last Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"text-end\",\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: adminUsers.map(adminUser => {\n                const isEditing = editingAdminUserId === adminUser._id;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"form-control form-control-sm\",\n                      value: adminEditValues.firstName,\n                      onChange: e => setAdminEditValues(v => ({\n                        ...v,\n                        firstName: e.target.value\n                      }))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 580,\n                      columnNumber: 29\n                    }, this) : adminUser.firstName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 578,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"form-control form-control-sm\",\n                      value: adminEditValues.lastName,\n                      onChange: e => setAdminEditValues(v => ({\n                        ...v,\n                        lastName: e.target.value\n                      }))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 596,\n                      columnNumber: 29\n                    }, this) : adminUser.lastName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 594,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"form-control form-control-sm\",\n                      value: adminEditValues.email,\n                      onChange: e => setAdminEditValues(v => ({\n                        ...v,\n                        email: e.target.value\n                      }))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 612,\n                      columnNumber: 29\n                    }, this) : adminUser.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 610,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: adminUser.isAdmin ? \"Admin\" : \"User\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 626,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-end\",\n                    children: isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-success btn-sm me-2\",\n                        onClick: saveAdminEdit,\n                        children: \"Save\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 630,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-secondary btn-sm\",\n                        onClick: () => setEditingAdminUserId(\"\"),\n                        children: \"Cancel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 636,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-primary btn-sm me-2\",\n                        onClick: () => startAdminEdit(adminUser),\n                        children: \"Edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 645,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-danger btn-sm\",\n                        onClick: () => removeAdminUser(adminUser._id),\n                        children: \"Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 651,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 627,\n                    columnNumber: 25\n                  }, this)]\n                }, adminUser._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProfilePage, \"yCsaOmUrq4q0ZzZS7/JtclVsYHg=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c = UserProfilePage;\nexport default UserProfilePage;\nvar _c;\n$RefreshReg$(_c, \"UserProfilePage\");","map":{"version":3,"names":["useEffect","useRef","useState","Card","useLocation","toast","jwtDecode","useAuth","deleteUserByAdmin","getAllUsersAdmin","getUserById","updateUser","updateUserByAdmin","getAllCards","jsxDEV","_jsxDEV","Fragment","_Fragment","UserProfilePage","_s","userId","location","fileInputRef","profileImg","setProfileImg","localStorage","getItem","user","setUser","likedCards","setLikedCards","editMode","setEditMode","editValues","setEditValues","firstName","lastName","email","pwMode","setPwMode","pwValues","setPwValues","current","next","confirm","pwError","setPwError","pwSuccess","setPwSuccess","isAdmin","setIsAdmin","adminUsers","setAdminUsers","editingAdminUserId","setEditingAdminUserId","adminEditValues","setAdminEditValues","loadAdminUsers","res","usersData","Array","isArray","data","normalized","map","item","_id","String","Boolean","err","_err$response","error","response","token","decoded","then","u","catch","_res$data","all","cards","_item$image","id","title","description","imageUrl","image","url","isLiked","filter","c","startAdminEdit","adminUser","saveAdminEdit","success","_err$response2","removeAdminUser","adminUserId","ok","window","_err$response3","handleImageChange","e","_e$target$files","file","target","files","reader","FileReader","onload","img","Image","canvas","document","createElement","MAX","ratio","Math","min","width","height","getContext","drawImage","compressed","toDataURL","removeItem","setItem","src","result","readAsDataURL","handleEditSave","uid","password","updated","_err$response4","handlePasswordSave","length","setTimeout","style","backgroundColor","minHeight","children","className","color","letterSpacing","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","borderRadius","overflow","marginTop","alt","objectFit","padding","border","onClick","_fileInputRef$current","click","fontSize","ref","type","accept","display","onChange","v","value","placeholder","card","Img","variant","Body","Title","Text","Footer","isEditing","_c","$RefreshReg$"],"sources":["/Users/ge/Desktop/FSProject/Frontend/src/components/userProfilePage.tsx"],"sourcesContent":["import { FunctionComponent, useEffect, useRef, useState } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport { useLocation } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { useAuth } from \"../context/AuthContext\";\nimport {\n  deleteUserByAdmin,\n  getAllUsersAdmin,\n  getUserById,\n  updateUser,\n  updateUserByAdmin,\n} from \"../services/userService\";\nimport { getAllCards } from \"../services/RecipeService\";\n\ninterface CardInterface {\n  _id: string;\n  title: string;\n  description: string;\n  imageUrl: string;\n  isLiked?: boolean;\n}\n\ninterface UserProfilePageProps {}\n\ninterface AdminUserInterface {\n  _id: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  isAdmin?: boolean;\n}\n\nconst UserProfilePage: FunctionComponent<UserProfilePageProps> = () => {\n  const { userId } = useAuth();\n  const location = useLocation();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const [profileImg, setProfileImg] = useState<string>(\n    localStorage.getItem(\"profileImg\") || \"\",\n  );\n  const [user, setUser] = useState<{\n    firstName: string;\n    lastName: string;\n    email: string;\n  } | null>(null);\n  const [likedCards, setLikedCards] = useState<CardInterface[]>([]);\n  const [editMode, setEditMode] = useState(false);\n  const [editValues, setEditValues] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n  });\n  const [pwMode, setPwMode] = useState(false);\n  const [pwValues, setPwValues] = useState({\n    current: \"\",\n    next: \"\",\n    confirm: \"\",\n  });\n  const [pwError, setPwError] = useState(\"\");\n  const [pwSuccess, setPwSuccess] = useState(\"\");\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [adminUsers, setAdminUsers] = useState<AdminUserInterface[]>([]);\n  const [editingAdminUserId, setEditingAdminUserId] = useState<string>(\"\");\n  const [adminEditValues, setAdminEditValues] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n  });\n\n  const loadAdminUsers = async () => {\n    try {\n      const res = await getAllUsersAdmin();\n      const usersData = Array.isArray(res.data) ? res.data : [];\n      const normalized = usersData.map((item: any) => ({\n        _id: String(item._id || \"\"),\n        firstName: item.firstName || \"\",\n        lastName: item.lastName || \"\",\n        email: item.email || \"\",\n        isAdmin: Boolean(item.isAdmin),\n      }));\n      setAdminUsers(normalized);\n    } catch (err: any) {\n      toast.error(err?.response?.data || \"Failed to load users.\");\n    }\n  };\n\n  useEffect(() => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        const decoded: { isAdmin?: boolean } = jwtDecode(token);\n        setIsAdmin(Boolean(decoded?.isAdmin));\n      } else {\n        setIsAdmin(false);\n      }\n    } catch {\n      setIsAdmin(false);\n    }\n\n    if (!userId) return;\n    getUserById()\n      .then((res: any) => {\n        const u = res.data;\n        setUser({\n          firstName: u.firstName || \"\",\n          lastName: u.lastName || \"\",\n          email: u.email || \"\",\n        });\n        setEditValues({\n          firstName: u.firstName || \"\",\n          lastName: u.lastName || \"\",\n          email: u.email || \"\",\n        });\n      })\n      .catch(() => {});\n\n    getAllCards()\n      .then((res: any) => {\n        const all: CardInterface[] = (\n          Array.isArray(res.data)\n            ? res.data\n            : Array.isArray(res.data?.cards)\n              ? res.data.cards\n              : []\n        ).map((item: any) => ({\n          _id: String(item._id || item.id),\n          title: item.title || \"Untitled\",\n          description: item.description || \"\",\n          imageUrl: item.imageUrl || item.image?.url || \"\",\n          isLiked: item.isLiked,\n        }));\n        setLikedCards(all.filter((c) => c.isLiked));\n      })\n      .catch(() => {});\n\n    if (localStorage.getItem(\"token\")) {\n      try {\n        const decoded: { isAdmin?: boolean } = jwtDecode(\n          localStorage.getItem(\"token\") || \"\",\n        );\n        if (decoded?.isAdmin) {\n          loadAdminUsers();\n        }\n      } catch {}\n    }\n  }, [userId, location]);\n\n  const startAdminEdit = (adminUser: AdminUserInterface) => {\n    setEditingAdminUserId(adminUser._id);\n    setAdminEditValues({\n      firstName: adminUser.firstName,\n      lastName: adminUser.lastName,\n      email: adminUser.email,\n    });\n  };\n\n  const saveAdminEdit = async () => {\n    if (!editingAdminUserId) return;\n\n    try {\n      await updateUserByAdmin(editingAdminUserId, {\n        firstName: adminEditValues.firstName,\n        lastName: adminEditValues.lastName,\n        email: adminEditValues.email,\n      });\n      toast.success(\"User updated.\");\n      setEditingAdminUserId(\"\");\n      await loadAdminUsers();\n    } catch (err: any) {\n      toast.error(err?.response?.data || \"Failed to update user.\");\n    }\n  };\n\n  const removeAdminUser = async (adminUserId: string) => {\n    const ok = window.confirm(\"Delete this user?\");\n    if (!ok) return;\n\n    try {\n      await deleteUserByAdmin(adminUserId);\n      toast.success(\"User deleted.\");\n      await loadAdminUsers();\n    } catch (err: any) {\n      toast.error(err?.response?.data || \"Failed to delete user.\");\n    }\n  };\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      const img = new Image();\n      img.onload = () => {\n        const canvas = document.createElement(\"canvas\");\n        const MAX = 200;\n        const ratio = Math.min(MAX / img.width, MAX / img.height);\n        canvas.width = img.width * ratio;\n        canvas.height = img.height * ratio;\n        canvas\n          .getContext(\"2d\")!\n          .drawImage(img, 0, 0, canvas.width, canvas.height);\n        const compressed = canvas.toDataURL(\"image/jpeg\", 0.7);\n        setProfileImg(compressed);\n        try {\n          localStorage.removeItem(\"profileImg\");\n          localStorage.setItem(\"profileImg\", compressed);\n        } catch {\n          // still show the photo in-session even if storage is full\n        }\n      };\n      img.src = reader.result as string;\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleEditSave = async () => {\n    try {\n      const uid = localStorage.getItem(\"userId\") || \"\";\n      await updateUser(uid, {\n        id: 0,\n        firstName: editValues.firstName,\n        lastName: editValues.lastName,\n        email: editValues.email,\n        password: \"\",\n      });\n      // Re-fetch from server to confirm the saved data\n      const res = await getUserById();\n      const u = res.data;\n      const updated = {\n        firstName: u.firstName || \"\",\n        lastName: u.lastName || \"\",\n        email: u.email || \"\",\n      };\n      setUser(updated);\n      setEditValues(updated);\n      setEditMode(false);\n      toast.success(\"Profile updated!\");\n    } catch (err: any) {\n      toast.error(err?.response?.data || \"Failed to save profile.\");\n    }\n  };\n\n  const handlePasswordSave = () => {\n    setPwError(\"\");\n    setPwSuccess(\"\");\n    if (!pwValues.current) {\n      setPwError(\"Please enter your current password.\");\n      return;\n    }\n    if (pwValues.next.length < 6) {\n      setPwError(\"New password must be at least 6 characters.\");\n      return;\n    }\n    if (pwValues.next !== pwValues.confirm) {\n      setPwError(\"Passwords do not match.\");\n      return;\n    }\n\n    setPwSuccess(\"Password updated successfully!\");\n    setPwValues({ current: \"\", next: \"\", confirm: \"\" });\n    setTimeout(() => {\n      setPwMode(false);\n      setPwSuccess(\"\");\n    }, 1500);\n  };\n\n  return (\n    <div style={{ backgroundColor: \"#000000\", minHeight: \"100vh\" }}>\n      <div className=\"container py-5\">\n        <h2\n          className=\"text-center mb-5 fw-bold\"\n          style={{ color: \"#5F9598\", letterSpacing: \"1px\" }}\n        >\n          My Profile\n        </h2>\n        {/* Profile card */}\n        <div\n          className=\"card shadow mx-auto mb-5\"\n          style={{\n            maxWidth: \"680px\",\n            borderRadius: \"16px\",\n            overflow: \"hidden\",\n          }}\n        >\n          <div style={{ backgroundColor: \"#1D546D\", height: \"90px\" }} />\n\n          <div className=\"text-center\" style={{ marginTop: \"-55px\" }}>\n            <div className=\"position-relative d-inline-block\">\n              <img\n                src={\n                  profileImg ||\n                  `https://ui-avatars.com/api/?name=${user?.firstName}+${user?.lastName}&size=110&background=1D546D&color=fff&bold=true`\n                }\n                alt=\"Profile\"\n                className=\"rounded-circle border border-4 border-white shadow\"\n                style={{ width: \"110px\", height: \"110px\", objectFit: \"cover\" }}\n              />\n              <button\n                className=\"btn btn-sm rounded-circle position-absolute bottom-0 end-0\"\n                style={{\n                  backgroundColor: \"#5F9598\",\n                  color: \"#fff\",\n                  width: \"32px\",\n                  height: \"32px\",\n                  padding: 0,\n                  border: \"2px solid white\",\n                }}\n                title=\"Change photo\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                <i\n                  className=\"fa-solid fa-camera\"\n                  style={{ fontSize: \"0.75rem\" }}\n                ></i>\n              </button>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                style={{ display: \"none\" }}\n                onChange={handleImageChange}\n              />\n            </div>\n          </div>\n\n          <div className=\"card-body px-5 pb-4\">\n            {!editMode ? (\n              <div className=\"text-center\">\n                <h4 className=\"fw-bold mt-2\" style={{ color: \"#061E29\" }}>\n                  {user ? `${user.firstName} ${user.lastName}` : \"â€”\"}\n                </h4>\n                <p className=\"text-muted mb-1\">{user?.email}</p>\n                <button\n                  className=\"btn btn-sm mt-3\"\n                  style={{\n                    backgroundColor: \"#1D546D\",\n                    color: \"#F3F4F4\",\n                    border: \"none\",\n                    borderRadius: \"8px\",\n                  }}\n                  onClick={() => setEditMode(true)}\n                >\n                  <i className=\"fa-regular fa-pen-to-square me-2\"></i>Edit\n                  Profile\n                </button>\n                <button\n                  className=\"btn btn-sm mt-3 ms-2\"\n                  style={{\n                    backgroundColor: \"#5F9598\",\n                    color: \"#F3F4F4\",\n                    border: \"none\",\n                    borderRadius: \"8px\",\n                  }}\n                  onClick={() => setPwMode((v) => !v)}\n                >\n                  <i className=\"fa-solid fa-lock me-2\"></i>Change Password\n                </button>\n              </div>\n            ) : (\n              <div className=\"mt-3\">\n                <div className=\"row g-3\">\n                  <div className=\"col-6\">\n                    <label className=\"form-label small fw-semibold\">\n                      First Name\n                    </label>\n                    <input\n                      className=\"form-control\"\n                      value={editValues.firstName}\n                      onChange={(e) =>\n                        setEditValues((v) => ({\n                          ...v,\n                          firstName: e.target.value,\n                        }))\n                      }\n                    />\n                  </div>\n                  <div className=\"col-6\">\n                    <label className=\"form-label small fw-semibold\">\n                      Last Name\n                    </label>\n                    <input\n                      className=\"form-control\"\n                      value={editValues.lastName}\n                      onChange={(e) =>\n                        setEditValues((v) => ({\n                          ...v,\n                          lastName: e.target.value,\n                        }))\n                      }\n                    />\n                  </div>\n                  <div className=\"col-12\">\n                    <label className=\"form-label small fw-semibold\">\n                      Email\n                    </label>\n                    <input\n                      className=\"form-control\"\n                      value={editValues.email}\n                      onChange={(e) =>\n                        setEditValues((v) => ({ ...v, email: e.target.value }))\n                      }\n                    />\n                  </div>\n                </div>\n                <div className=\"d-flex gap-2 mt-3\">\n                  <button\n                    className=\"btn btn-sm flex-fill\"\n                    style={{\n                      backgroundColor: \"#1D546D\",\n                      color: \"#F3F4F4\",\n                      border: \"none\",\n                    }}\n                    onClick={handleEditSave}\n                  >\n                    Save\n                  </button>\n                  <button\n                    className=\"btn btn-sm btn-outline-secondary flex-fill\"\n                    onClick={() => setEditMode(false)}\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Change Password */}\n            {pwMode && !editMode && (\n              <div className=\"mt-4 border-top pt-3\">\n                <h6 className=\"fw-semibold mb-3\" style={{ color: \"#1D546D\" }}>\n                  <i className=\"fa-solid fa-lock me-2\"></i>Change Password\n                </h6>\n                {pwError && (\n                  <div className=\"alert alert-danger py-2 small\">{pwError}</div>\n                )}\n                {pwSuccess && (\n                  <div className=\"alert alert-success py-2 small\">\n                    {pwSuccess}\n                  </div>\n                )}\n                <div className=\"row g-3\">\n                  <div className=\"col-12\">\n                    <label className=\"form-label small fw-semibold\">\n                      Current Password\n                    </label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢\"\n                      value={pwValues.current}\n                      onChange={(e) =>\n                        setPwValues((v) => ({ ...v, current: e.target.value }))\n                      }\n                    />\n                  </div>\n                  <div className=\"col-12\">\n                    <label className=\"form-label small fw-semibold\">\n                      New Password\n                    </label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢\"\n                      value={pwValues.next}\n                      onChange={(e) =>\n                        setPwValues((v) => ({ ...v, next: e.target.value }))\n                      }\n                    />\n                  </div>\n                  <div className=\"col-12\">\n                    <label className=\"form-label small fw-semibold\">\n                      Confirm New Password\n                    </label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢\"\n                      value={pwValues.confirm}\n                      onChange={(e) =>\n                        setPwValues((v) => ({ ...v, confirm: e.target.value }))\n                      }\n                    />\n                  </div>\n                </div>\n                <div className=\"d-flex gap-2 mt-3\">\n                  <button\n                    className=\"btn btn-sm flex-fill\"\n                    style={{\n                      backgroundColor: \"#5F9598\",\n                      color: \"#F3F4F4\",\n                      border: \"none\",\n                    }}\n                    onClick={handlePasswordSave}\n                  >\n                    Update Password\n                  </button>\n                  <button\n                    className=\"btn btn-sm btn-outline-secondary flex-fill\"\n                    onClick={() => {\n                      setPwMode(false);\n                      setPwError(\"\");\n                      setPwValues({ current: \"\", next: \"\", confirm: \"\" });\n                    }}\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Liked recipes */}\n        <h4 className=\"fw-bold mb-4 text-center\" style={{ color: \"#5F9598\" }}>\n          <i className=\"fa-solid fa-heart text-danger me-2\"></i>My Favorite\n          Recipes\n        </h4>\n\n        {likedCards.length ? (\n          <div className=\"row\">\n            {likedCards.map((card) => (\n              <div className=\"col-md-4 mb-4 px-3\" key={card._id}>\n                <Card className=\"h-100 shadow\">\n                  <Card.Img\n                    variant=\"top\"\n                    src={card.imageUrl}\n                    alt={card.title}\n                    style={{ height: \"180px\", objectFit: \"cover\" }}\n                  />\n                  <Card.Body>\n                    <Card.Title>{card.title}</Card.Title>\n                    <Card.Text className=\"text-muted\">\n                      {card.description}\n                    </Card.Text>\n                  </Card.Body>\n                  <Card.Footer className=\"bg-white border-0 text-end\">\n                    <i\n                      className=\"fa-solid fa-heart text-danger\"\n                      style={{ fontSize: \"1.3rem\" }}\n                    ></i>\n                  </Card.Footer>\n                </Card>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-center\" style={{ color: \"#DCE7EA\" }}>\n            No liked recipes yet. Start exploring and hit the{\" \"}\n            <i className=\"fa-regular fa-heart text-danger\"></i> on recipes you\n            love!\n          </p>\n        )}\n\n        {isAdmin && (\n          <div className=\"mt-5\">\n            <h4 className=\"fw-bold mb-3 text-center\" style={{ color: \"#5F9598\" }}>\n              <i className=\"fa-solid fa-users me-2\"></i>Admin - All Users\n            </h4>\n\n            <div className=\"table-responsive\">\n              <table className=\"table table-dark table-striped align-middle\">\n                <thead>\n                  <tr>\n                    <th>First Name</th>\n                    <th>Last Name</th>\n                    <th>Email</th>\n                    <th>Role</th>\n                    <th className=\"text-end\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {adminUsers.map((adminUser) => {\n                    const isEditing = editingAdminUserId === adminUser._id;\n\n                    return (\n                      <tr key={adminUser._id}>\n                        <td>\n                          {isEditing ? (\n                            <input\n                              className=\"form-control form-control-sm\"\n                              value={adminEditValues.firstName}\n                              onChange={(e) =>\n                                setAdminEditValues((v) => ({\n                                  ...v,\n                                  firstName: e.target.value,\n                                }))\n                              }\n                            />\n                          ) : (\n                            adminUser.firstName\n                          )}\n                        </td>\n                        <td>\n                          {isEditing ? (\n                            <input\n                              className=\"form-control form-control-sm\"\n                              value={adminEditValues.lastName}\n                              onChange={(e) =>\n                                setAdminEditValues((v) => ({\n                                  ...v,\n                                  lastName: e.target.value,\n                                }))\n                              }\n                            />\n                          ) : (\n                            adminUser.lastName\n                          )}\n                        </td>\n                        <td>\n                          {isEditing ? (\n                            <input\n                              className=\"form-control form-control-sm\"\n                              value={adminEditValues.email}\n                              onChange={(e) =>\n                                setAdminEditValues((v) => ({\n                                  ...v,\n                                  email: e.target.value,\n                                }))\n                              }\n                            />\n                          ) : (\n                            adminUser.email\n                          )}\n                        </td>\n                        <td>{adminUser.isAdmin ? \"Admin\" : \"User\"}</td>\n                        <td className=\"text-end\">\n                          {isEditing ? (\n                            <>\n                              <button\n                                className=\"btn btn-success btn-sm me-2\"\n                                onClick={saveAdminEdit}\n                              >\n                                Save\n                              </button>\n                              <button\n                                className=\"btn btn-secondary btn-sm\"\n                                onClick={() => setEditingAdminUserId(\"\")}\n                              >\n                                Cancel\n                              </button>\n                            </>\n                          ) : (\n                            <>\n                              <button\n                                className=\"btn btn-primary btn-sm me-2\"\n                                onClick={() => startAdminEdit(adminUser)}\n                              >\n                                Edit\n                              </button>\n                              <button\n                                className=\"btn btn-danger btn-sm\"\n                                onClick={() => removeAdminUser(adminUser._id)}\n                              >\n                                Delete\n                              </button>\n                            </>\n                          )}\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n        \n      </div>\n\n    </div>\n  );\n};\n\nexport default UserProfilePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}