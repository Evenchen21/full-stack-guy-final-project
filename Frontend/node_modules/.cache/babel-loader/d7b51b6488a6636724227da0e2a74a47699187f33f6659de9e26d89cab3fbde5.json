{"ast":null,"code":"var _jsxFileName = \"/Users/ge/Desktop/FSProject/Frontend/src/components/userProfilePage.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport { useLocation } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { getUserById, updateUser } from \"../services/userService\";\nimport { getAllCards } from \"../services/RecipeService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProfilePage = () => {\n  _s();\n  const {\n    userId\n  } = useAuth();\n  const location = useLocation();\n  const fileInputRef = useRef(null);\n  const [profileImg, setProfileImg] = useState(localStorage.getItem(\"profileImg\") || \"\");\n  const [user, setUser] = useState(null);\n  const [likedCards, setLikedCards] = useState([]);\n  const [editMode, setEditMode] = useState(false);\n  const [editValues, setEditValues] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\"\n  });\n  const [pwMode, setPwMode] = useState(false);\n  const [pwValues, setPwValues] = useState({\n    current: \"\",\n    next: \"\",\n    confirm: \"\"\n  });\n  const [pwError, setPwError] = useState(\"\");\n  const [pwSuccess, setPwSuccess] = useState(\"\");\n  useEffect(() => {\n    if (!userId) return;\n    getUserById().then(res => {\n      const u = res.data;\n      setUser({\n        firstName: u.firstName || \"\",\n        lastName: u.lastName || \"\",\n        email: u.email || \"\"\n      });\n      setEditValues({\n        firstName: u.firstName || \"\",\n        lastName: u.lastName || \"\",\n        email: u.email || \"\"\n      });\n    }).catch(() => {});\n    getAllCards().then(res => {\n      var _res$data;\n      const all = (Array.isArray(res.data) ? res.data : Array.isArray((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.cards) ? res.data.cards : []).map(item => {\n        var _item$image;\n        return {\n          _id: String(item._id || item.id),\n          title: item.title || \"Untitled\",\n          description: item.description || \"\",\n          imageUrl: item.imageUrl || ((_item$image = item.image) === null || _item$image === void 0 ? void 0 : _item$image.url) || \"\",\n          isLiked: item.isLiked\n        };\n      });\n      setLikedCards(all.filter(c => c.isLiked));\n    }).catch(() => {});\n  }, [userId, location]);\n  const handleImageChange = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      const img = new Image();\n      img.onload = () => {\n        const canvas = document.createElement(\"canvas\");\n        const MAX = 200;\n        const ratio = Math.min(MAX / img.width, MAX / img.height);\n        canvas.width = img.width * ratio;\n        canvas.height = img.height * ratio;\n        canvas.getContext(\"2d\").drawImage(img, 0, 0, canvas.width, canvas.height);\n        const compressed = canvas.toDataURL(\"image/jpeg\", 0.7);\n        setProfileImg(compressed);\n        try {\n          localStorage.removeItem(\"profileImg\");\n          localStorage.setItem(\"profileImg\", compressed);\n        } catch {\n          // still show the photo in-session even if storage is full\n        }\n      };\n      img.src = reader.result;\n    };\n    reader.readAsDataURL(file);\n  };\n  const handleEditSave = async () => {\n    try {\n      const uid = localStorage.getItem(\"userId\") || \"\";\n      await updateUser(uid, {\n        id: 0,\n        firstName: editValues.firstName,\n        lastName: editValues.lastName,\n        email: editValues.email,\n        password: \"\"\n      });\n      // Re-fetch from server to confirm the saved data\n      const res = await getUserById();\n      const u = res.data;\n      const updated = {\n        firstName: u.firstName || \"\",\n        lastName: u.lastName || \"\",\n        email: u.email || \"\"\n      };\n      setUser(updated);\n      setEditValues(updated);\n      setEditMode(false);\n      toast.success(\"Profile updated!\");\n    } catch (err) {\n      var _err$response;\n      toast.error((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || \"Failed to save profile.\");\n    }\n  };\n  const handlePasswordSave = () => {\n    setPwError(\"\");\n    setPwSuccess(\"\");\n    if (!pwValues.current) {\n      setPwError(\"Please enter your current password.\");\n      return;\n    }\n    if (pwValues.next.length < 6) {\n      setPwError(\"New password must be at least 6 characters.\");\n      return;\n    }\n    if (pwValues.next !== pwValues.confirm) {\n      setPwError(\"Passwords do not match.\");\n      return;\n    }\n    setPwSuccess(\"Password updated successfully!\");\n    setPwValues({\n      current: \"\",\n      next: \"\",\n      confirm: \"\"\n    });\n    setTimeout(() => {\n      setPwMode(false);\n      setPwSuccess(\"\");\n    }, 1500);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: \"#000000\",\n      minHeight: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-5 fw-bold\",\n        style: {\n          color: \"#5F9598\",\n          letterSpacing: \"1px\"\n        },\n        children: \"My Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow mx-auto mb-5\",\n        style: {\n          maxWidth: \"680px\",\n          borderRadius: \"16px\",\n          overflow: \"hidden\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: \"#1D546D\",\n            height: \"90px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          style: {\n            marginTop: \"-55px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"position-relative d-inline-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: profileImg || `https://ui-avatars.com/api/?name=${user === null || user === void 0 ? void 0 : user.firstName}+${user === null || user === void 0 ? void 0 : user.lastName}&size=110&background=1D546D&color=fff&bold=true`,\n              alt: \"Profile\",\n              className: \"rounded-circle border border-4 border-white shadow\",\n              style: {\n                width: \"110px\",\n                height: \"110px\",\n                objectFit: \"cover\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm rounded-circle position-absolute bottom-0 end-0\",\n              style: {\n                backgroundColor: \"#5F9598\",\n                color: \"#fff\",\n                width: \"32px\",\n                height: \"32px\",\n                padding: 0,\n                border: \"2px solid white\"\n              },\n              title: \"Change photo\",\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-camera\",\n                style: {\n                  fontSize: \"0.75rem\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: fileInputRef,\n              type: \"file\",\n              accept: \"image/*\",\n              style: {\n                display: \"none\"\n              },\n              onChange: handleImageChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body px-5 pb-4\",\n          children: [!editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"fw-bold mt-2\",\n              style: {\n                color: \"#061E29\"\n              },\n              children: user ? `${user.firstName} ${user.lastName}` : \"—\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted mb-1\",\n              children: user === null || user === void 0 ? void 0 : user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm mt-3\",\n              style: {\n                backgroundColor: \"#1D546D\",\n                color: \"#F3F4F4\",\n                border: \"none\",\n                borderRadius: \"8px\"\n              },\n              onClick: () => setEditMode(true),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-regular fa-pen-to-square me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this), \"Edit Profile\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm mt-3 ms-2\",\n              style: {\n                backgroundColor: \"#5F9598\",\n                color: \"#F3F4F4\",\n                border: \"none\",\n                borderRadius: \"8px\"\n              },\n              onClick: () => setPwMode(v => !v),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-lock me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), \"Change Password\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row g-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"First Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  value: editValues.firstName,\n                  onChange: e => setEditValues(v => ({\n                    ...v,\n                    firstName: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"Last Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  value: editValues.lastName,\n                  onChange: e => setEditValues(v => ({\n                    ...v,\n                    lastName: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  value: editValues.email,\n                  onChange: e => setEditValues(v => ({\n                    ...v,\n                    email: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm flex-fill\",\n                style: {\n                  backgroundColor: \"#1D546D\",\n                  color: \"#F3F4F4\",\n                  border: \"none\"\n                },\n                onClick: handleEditSave,\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm btn-outline-secondary flex-fill\",\n                onClick: () => setEditMode(false),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this), pwMode && !editMode && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 border-top pt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"fw-semibold mb-3\",\n              style: {\n                color: \"#1D546D\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-lock me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this), \"Change Password\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), pwError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger py-2 small\",\n              children: pwError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 19\n            }, this), pwSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-success py-2 small\",\n              children: pwSuccess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row g-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"Current Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n                  value: pwValues.current,\n                  onChange: e => setPwValues(v => ({\n                    ...v,\n                    current: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"New Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n                  value: pwValues.next,\n                  onChange: e => setPwValues(v => ({\n                    ...v,\n                    next: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label small fw-semibold\",\n                  children: \"Confirm New Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n                  value: pwValues.confirm,\n                  onChange: e => setPwValues(v => ({\n                    ...v,\n                    confirm: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm flex-fill\",\n                style: {\n                  backgroundColor: \"#5F9598\",\n                  color: \"#F3F4F4\",\n                  border: \"none\"\n                },\n                onClick: handlePasswordSave,\n                children: \"Update Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm btn-outline-secondary flex-fill\",\n                onClick: () => {\n                  setPwMode(false);\n                  setPwError(\"\");\n                  setPwValues({\n                    current: \"\",\n                    next: \"\",\n                    confirm: \"\"\n                  });\n                },\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"fw-bold mb-4 text-center\",\n        style: {\n          color: \"#5F9598\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-solid fa-heart text-danger me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), \"My Favorite Recipes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), likedCards.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: likedCards.map(card => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 mb-4 px-3\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"h-100 shadow\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n              variant: \"top\",\n              src: card.imageUrl,\n              alt: card.title,\n              style: {\n                height: \"180px\",\n                objectFit: \"cover\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: card.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                className: \"text-muted\",\n                children: card.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n              className: \"bg-white border-0 text-end\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-heart text-danger\",\n                style: {\n                  fontSize: \"1.3rem\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 17\n          }, this)\n        }, card._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center\",\n        style: {\n          color: \"#DCE7EA\"\n        },\n        children: [\"No liked recipes yet. Start exploring and hit the\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-regular fa-heart text-danger\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }, this), \" on recipes you love!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProfilePage, \"uqNcMWl2NK0IFUyq33yozWrO3ug=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c = UserProfilePage;\nexport default UserProfilePage;\nvar _c;\n$RefreshReg$(_c, \"UserProfilePage\");","map":{"version":3,"names":["useEffect","useRef","useState","Card","useLocation","toast","useAuth","getUserById","updateUser","getAllCards","jsxDEV","_jsxDEV","UserProfilePage","_s","userId","location","fileInputRef","profileImg","setProfileImg","localStorage","getItem","user","setUser","likedCards","setLikedCards","editMode","setEditMode","editValues","setEditValues","firstName","lastName","email","pwMode","setPwMode","pwValues","setPwValues","current","next","confirm","pwError","setPwError","pwSuccess","setPwSuccess","then","res","u","data","catch","_res$data","all","Array","isArray","cards","map","item","_item$image","_id","String","id","title","description","imageUrl","image","url","isLiked","filter","c","handleImageChange","e","_e$target$files","file","target","files","reader","FileReader","onload","img","Image","canvas","document","createElement","MAX","ratio","Math","min","width","height","getContext","drawImage","compressed","toDataURL","removeItem","setItem","src","result","readAsDataURL","handleEditSave","uid","password","updated","success","err","_err$response","error","response","handlePasswordSave","length","setTimeout","style","backgroundColor","minHeight","children","className","color","letterSpacing","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","borderRadius","overflow","marginTop","alt","objectFit","padding","border","onClick","_fileInputRef$current","click","fontSize","ref","type","accept","display","onChange","v","value","placeholder","card","Img","variant","Body","Title","Text","Footer","_c","$RefreshReg$"],"sources":["/Users/ge/Desktop/FSProject/Frontend/src/components/userProfilePage.tsx"],"sourcesContent":["import { FunctionComponent, useEffect, useRef, useState } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport { useLocation } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { getUserById, updateUser } from \"../services/userService\";\nimport { getAllCards } from \"../services/RecipeService\";\n\ninterface CardInterface {\n  _id: string;\n  title: string;\n  description: string;\n  imageUrl: string;\n  isLiked?: boolean;\n}\n\ninterface UserProfilePageProps {}\n\nconst UserProfilePage: FunctionComponent<UserProfilePageProps> = () => {\n  const { userId } = useAuth();\n  const location = useLocation();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const [profileImg, setProfileImg] = useState<string>(\n    localStorage.getItem(\"profileImg\") || \"\",\n  );\n  const [user, setUser] = useState<{\n    firstName: string;\n    lastName: string;\n    email: string;\n  } | null>(null);\n  const [likedCards, setLikedCards] = useState<CardInterface[]>([]);\n  const [editMode, setEditMode] = useState(false);\n  const [editValues, setEditValues] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n  });\n  const [pwMode, setPwMode] = useState(false);\n  const [pwValues, setPwValues] = useState({\n    current: \"\",\n    next: \"\",\n    confirm: \"\",\n  });\n  const [pwError, setPwError] = useState(\"\");\n  const [pwSuccess, setPwSuccess] = useState(\"\");\n\n  useEffect(() => {\n    if (!userId) return;\n    getUserById()\n      .then((res: any) => {\n        const u = res.data;\n        setUser({\n          firstName: u.firstName || \"\",\n          lastName: u.lastName || \"\",\n          email: u.email || \"\",\n        });\n        setEditValues({\n          firstName: u.firstName || \"\",\n          lastName: u.lastName || \"\",\n          email: u.email || \"\",\n        });\n      })\n      .catch(() => {});\n\n    getAllCards()\n      .then((res: any) => {\n        const all: CardInterface[] = (\n          Array.isArray(res.data)\n            ? res.data\n            : Array.isArray(res.data?.cards)\n              ? res.data.cards\n              : []\n        ).map((item: any) => ({\n          _id: String(item._id || item.id),\n          title: item.title || \"Untitled\",\n          description: item.description || \"\",\n          imageUrl: item.imageUrl || item.image?.url || \"\",\n          isLiked: item.isLiked,\n        }));\n        setLikedCards(all.filter((c) => c.isLiked));\n      })\n      .catch(() => {});\n  }, [userId, location]);\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      const img = new Image();\n      img.onload = () => {\n        const canvas = document.createElement(\"canvas\");\n        const MAX = 200;\n        const ratio = Math.min(MAX / img.width, MAX / img.height);\n        canvas.width = img.width * ratio;\n        canvas.height = img.height * ratio;\n        canvas\n          .getContext(\"2d\")!\n          .drawImage(img, 0, 0, canvas.width, canvas.height);\n        const compressed = canvas.toDataURL(\"image/jpeg\", 0.7);\n        setProfileImg(compressed);\n        try {\n          localStorage.removeItem(\"profileImg\");\n          localStorage.setItem(\"profileImg\", compressed);\n        } catch {\n          // still show the photo in-session even if storage is full\n        }\n      };\n      img.src = reader.result as string;\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleEditSave = async () => {\n    try {\n      const uid = localStorage.getItem(\"userId\") || \"\";\n      await updateUser(uid, {\n        id: 0,\n        firstName: editValues.firstName,\n        lastName: editValues.lastName,\n        email: editValues.email,\n        password: \"\",\n      });\n      // Re-fetch from server to confirm the saved data\n      const res = await getUserById();\n      const u = res.data;\n      const updated = {\n        firstName: u.firstName || \"\",\n        lastName: u.lastName || \"\",\n        email: u.email || \"\",\n      };\n      setUser(updated);\n      setEditValues(updated);\n      setEditMode(false);\n      toast.success(\"Profile updated!\");\n    } catch (err: any) {\n      toast.error(err?.response?.data || \"Failed to save profile.\");\n    }\n  };\n\n  const handlePasswordSave = () => {\n    setPwError(\"\");\n    setPwSuccess(\"\");\n    if (!pwValues.current) {\n      setPwError(\"Please enter your current password.\");\n      return;\n    }\n    if (pwValues.next.length < 6) {\n      setPwError(\"New password must be at least 6 characters.\");\n      return;\n    }\n    if (pwValues.next !== pwValues.confirm) {\n      setPwError(\"Passwords do not match.\");\n      return;\n    }\n\n    setPwSuccess(\"Password updated successfully!\");\n    setPwValues({ current: \"\", next: \"\", confirm: \"\" });\n    setTimeout(() => {\n      setPwMode(false);\n      setPwSuccess(\"\");\n    }, 1500);\n  };\n\n  return (\n    <div style={{ backgroundColor: \"#000000\", minHeight: \"100vh\" }}>\n      <div className=\"container py-5\">\n        <h2\n          className=\"text-center mb-5 fw-bold\"\n          style={{ color: \"#5F9598\", letterSpacing: \"1px\" }}\n        >\n          My Profile\n        </h2>\n        {/* Profile card */}\n        <div\n          className=\"card shadow mx-auto mb-5\"\n          style={{\n            maxWidth: \"680px\",\n            borderRadius: \"16px\",\n            overflow: \"hidden\",\n          }}\n        >\n          <div style={{ backgroundColor: \"#1D546D\", height: \"90px\" }} />\n\n          <div className=\"text-center\" style={{ marginTop: \"-55px\" }}>\n            <div className=\"position-relative d-inline-block\">\n              <img\n                src={\n                  profileImg ||\n                  `https://ui-avatars.com/api/?name=${user?.firstName}+${user?.lastName}&size=110&background=1D546D&color=fff&bold=true`\n                }\n                alt=\"Profile\"\n                className=\"rounded-circle border border-4 border-white shadow\"\n                style={{ width: \"110px\", height: \"110px\", objectFit: \"cover\" }}\n              />\n              <button\n                className=\"btn btn-sm rounded-circle position-absolute bottom-0 end-0\"\n                style={{\n                  backgroundColor: \"#5F9598\",\n                  color: \"#fff\",\n                  width: \"32px\",\n                  height: \"32px\",\n                  padding: 0,\n                  border: \"2px solid white\",\n                }}\n                title=\"Change photo\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                <i\n                  className=\"fa-solid fa-camera\"\n                  style={{ fontSize: \"0.75rem\" }}\n                ></i>\n              </button>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                style={{ display: \"none\" }}\n                onChange={handleImageChange}\n              />\n            </div>\n          </div>\n\n          <div className=\"card-body px-5 pb-4\">\n            {!editMode ? (\n              <div className=\"text-center\">\n                <h4 className=\"fw-bold mt-2\" style={{ color: \"#061E29\" }}>\n                  {user ? `${user.firstName} ${user.lastName}` : \"—\"}\n                </h4>\n                <p className=\"text-muted mb-1\">{user?.email}</p>\n                <button\n                  className=\"btn btn-sm mt-3\"\n                  style={{\n                    backgroundColor: \"#1D546D\",\n                    color: \"#F3F4F4\",\n                    border: \"none\",\n                    borderRadius: \"8px\",\n                  }}\n                  onClick={() => setEditMode(true)}\n                >\n                  <i className=\"fa-regular fa-pen-to-square me-2\"></i>Edit\n                  Profile\n                </button>\n                <button\n                  className=\"btn btn-sm mt-3 ms-2\"\n                  style={{\n                    backgroundColor: \"#5F9598\",\n                    color: \"#F3F4F4\",\n                    border: \"none\",\n                    borderRadius: \"8px\",\n                  }}\n                  onClick={() => setPwMode((v) => !v)}\n                >\n                  <i className=\"fa-solid fa-lock me-2\"></i>Change Password\n                </button>\n              </div>\n            ) : (\n              <div className=\"mt-3\">\n                <div className=\"row g-3\">\n                  <div className=\"col-6\">\n                    <label className=\"form-label small fw-semibold\">\n                      First Name\n                    </label>\n                    <input\n                      className=\"form-control\"\n                      value={editValues.firstName}\n                      onChange={(e) =>\n                        setEditValues((v) => ({\n                          ...v,\n                          firstName: e.target.value,\n                        }))\n                      }\n                    />\n                  </div>\n                  <div className=\"col-6\">\n                    <label className=\"form-label small fw-semibold\">\n                      Last Name\n                    </label>\n                    <input\n                      className=\"form-control\"\n                      value={editValues.lastName}\n                      onChange={(e) =>\n                        setEditValues((v) => ({\n                          ...v,\n                          lastName: e.target.value,\n                        }))\n                      }\n                    />\n                  </div>\n                  <div className=\"col-12\">\n                    <label className=\"form-label small fw-semibold\">\n                      Email\n                    </label>\n                    <input\n                      className=\"form-control\"\n                      value={editValues.email}\n                      onChange={(e) =>\n                        setEditValues((v) => ({ ...v, email: e.target.value }))\n                      }\n                    />\n                  </div>\n                </div>\n                <div className=\"d-flex gap-2 mt-3\">\n                  <button\n                    className=\"btn btn-sm flex-fill\"\n                    style={{\n                      backgroundColor: \"#1D546D\",\n                      color: \"#F3F4F4\",\n                      border: \"none\",\n                    }}\n                    onClick={handleEditSave}\n                  >\n                    Save\n                  </button>\n                  <button\n                    className=\"btn btn-sm btn-outline-secondary flex-fill\"\n                    onClick={() => setEditMode(false)}\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {/* Change Password */}\n            {pwMode && !editMode && (\n              <div className=\"mt-4 border-top pt-3\">\n                <h6 className=\"fw-semibold mb-3\" style={{ color: \"#1D546D\" }}>\n                  <i className=\"fa-solid fa-lock me-2\"></i>Change Password\n                </h6>\n                {pwError && (\n                  <div className=\"alert alert-danger py-2 small\">{pwError}</div>\n                )}\n                {pwSuccess && (\n                  <div className=\"alert alert-success py-2 small\">\n                    {pwSuccess}\n                  </div>\n                )}\n                <div className=\"row g-3\">\n                  <div className=\"col-12\">\n                    <label className=\"form-label small fw-semibold\">\n                      Current Password\n                    </label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      placeholder=\"••••••\"\n                      value={pwValues.current}\n                      onChange={(e) =>\n                        setPwValues((v) => ({ ...v, current: e.target.value }))\n                      }\n                    />\n                  </div>\n                  <div className=\"col-12\">\n                    <label className=\"form-label small fw-semibold\">\n                      New Password\n                    </label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      placeholder=\"••••••\"\n                      value={pwValues.next}\n                      onChange={(e) =>\n                        setPwValues((v) => ({ ...v, next: e.target.value }))\n                      }\n                    />\n                  </div>\n                  <div className=\"col-12\">\n                    <label className=\"form-label small fw-semibold\">\n                      Confirm New Password\n                    </label>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      placeholder=\"••••••\"\n                      value={pwValues.confirm}\n                      onChange={(e) =>\n                        setPwValues((v) => ({ ...v, confirm: e.target.value }))\n                      }\n                    />\n                  </div>\n                </div>\n                <div className=\"d-flex gap-2 mt-3\">\n                  <button\n                    className=\"btn btn-sm flex-fill\"\n                    style={{\n                      backgroundColor: \"#5F9598\",\n                      color: \"#F3F4F4\",\n                      border: \"none\",\n                    }}\n                    onClick={handlePasswordSave}\n                  >\n                    Update Password\n                  </button>\n                  <button\n                    className=\"btn btn-sm btn-outline-secondary flex-fill\"\n                    onClick={() => {\n                      setPwMode(false);\n                      setPwError(\"\");\n                      setPwValues({ current: \"\", next: \"\", confirm: \"\" });\n                    }}\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Liked recipes */}\n        <h4 className=\"fw-bold mb-4 text-center\" style={{ color: \"#5F9598\" }}>\n          <i className=\"fa-solid fa-heart text-danger me-2\"></i>My Favorite\n          Recipes\n        </h4>\n\n        {likedCards.length ? (\n          <div className=\"row\">\n            {likedCards.map((card) => (\n              <div className=\"col-md-4 mb-4 px-3\" key={card._id}>\n                <Card className=\"h-100 shadow\">\n                  <Card.Img\n                    variant=\"top\"\n                    src={card.imageUrl}\n                    alt={card.title}\n                    style={{ height: \"180px\", objectFit: \"cover\" }}\n                  />\n                  <Card.Body>\n                    <Card.Title>{card.title}</Card.Title>\n                    <Card.Text className=\"text-muted\">\n                      {card.description}\n                    </Card.Text>\n                  </Card.Body>\n                  <Card.Footer className=\"bg-white border-0 text-end\">\n                    <i\n                      className=\"fa-solid fa-heart text-danger\"\n                      style={{ fontSize: \"1.3rem\" }}\n                    ></i>\n                  </Card.Footer>\n                </Card>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-center\" style={{ color: \"#DCE7EA\" }}>\n            No liked recipes yet. Start exploring and hit the{\" \"}\n            <i className=\"fa-regular fa-heart text-danger\"></i> on recipes you\n            love!\n          </p>\n        )}\n      </div>\n\n    </div>\n  );\n};\n\nexport default UserProfilePage;\n"],"mappings":";;AAAA,SAA4BA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACtE,OAAOC,IAAI,MAAM,sBAAsB;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,WAAW,EAAEC,UAAU,QAAQ,yBAAyB;AACjE,SAASC,WAAW,QAAQ,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAYxD,MAAMC,eAAwD,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrE,MAAM;IAAEC;EAAO,CAAC,GAAGR,OAAO,CAAC,CAAC;EAC5B,MAAMS,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,MAAMY,YAAY,GAAGf,MAAM,CAAmB,IAAI,CAAC;EAEnD,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAC1CiB,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,IAAI,EACxC,CAAC;EACD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAItB,IAAI,CAAC;EACf,MAAM,CAACqB,UAAU,EAAEC,aAAa,CAAC,GAAGtB,QAAQ,CAAkB,EAAE,CAAC;EACjE,MAAM,CAACuB,QAAQ,EAAEC,WAAW,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACyB,UAAU,EAAEC,aAAa,CAAC,GAAG1B,QAAQ,CAAC;IAC3C2B,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE;EACT,CAAC,CAAC;EACF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACgC,QAAQ,EAAEC,WAAW,CAAC,GAAGjC,QAAQ,CAAC;IACvCkC,OAAO,EAAE,EAAE;IACXC,IAAI,EAAE,EAAE;IACRC,OAAO,EAAE;EACX,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACuC,SAAS,EAAEC,YAAY,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAE9CF,SAAS,CAAC,MAAM;IACd,IAAI,CAACc,MAAM,EAAE;IACbP,WAAW,CAAC,CAAC,CACVoC,IAAI,CAAEC,GAAQ,IAAK;MAClB,MAAMC,CAAC,GAAGD,GAAG,CAACE,IAAI;MAClBxB,OAAO,CAAC;QACNO,SAAS,EAAEgB,CAAC,CAAChB,SAAS,IAAI,EAAE;QAC5BC,QAAQ,EAAEe,CAAC,CAACf,QAAQ,IAAI,EAAE;QAC1BC,KAAK,EAAEc,CAAC,CAACd,KAAK,IAAI;MACpB,CAAC,CAAC;MACFH,aAAa,CAAC;QACZC,SAAS,EAAEgB,CAAC,CAAChB,SAAS,IAAI,EAAE;QAC5BC,QAAQ,EAAEe,CAAC,CAACf,QAAQ,IAAI,EAAE;QAC1BC,KAAK,EAAEc,CAAC,CAACd,KAAK,IAAI;MACpB,CAAC,CAAC;IACJ,CAAC,CAAC,CACDgB,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;IAElBtC,WAAW,CAAC,CAAC,CACVkC,IAAI,CAAEC,GAAQ,IAAK;MAAA,IAAAI,SAAA;MAClB,MAAMC,GAAoB,GAAG,CAC3BC,KAAK,CAACC,OAAO,CAACP,GAAG,CAACE,IAAI,CAAC,GACnBF,GAAG,CAACE,IAAI,GACRI,KAAK,CAACC,OAAO,EAAAH,SAAA,GAACJ,GAAG,CAACE,IAAI,cAAAE,SAAA,uBAARA,SAAA,CAAUI,KAAK,CAAC,GAC5BR,GAAG,CAACE,IAAI,CAACM,KAAK,GACd,EAAE,EACRC,GAAG,CAAEC,IAAS;QAAA,IAAAC,WAAA;QAAA,OAAM;UACpBC,GAAG,EAAEC,MAAM,CAACH,IAAI,CAACE,GAAG,IAAIF,IAAI,CAACI,EAAE,CAAC;UAChCC,KAAK,EAAEL,IAAI,CAACK,KAAK,IAAI,UAAU;UAC/BC,WAAW,EAAEN,IAAI,CAACM,WAAW,IAAI,EAAE;UACnCC,QAAQ,EAAEP,IAAI,CAACO,QAAQ,MAAAN,WAAA,GAAID,IAAI,CAACQ,KAAK,cAAAP,WAAA,uBAAVA,WAAA,CAAYQ,GAAG,KAAI,EAAE;UAChDC,OAAO,EAAEV,IAAI,CAACU;QAChB,CAAC;MAAA,CAAC,CAAC;MACHxC,aAAa,CAACyB,GAAG,CAACgB,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACF,OAAO,CAAC,CAAC;IAC7C,CAAC,CAAC,CACDjB,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;EACpB,CAAC,EAAE,CAACjC,MAAM,EAAEC,QAAQ,CAAC,CAAC;EAEtB,MAAMoD,iBAAiB,GAAIC,CAAsC,IAAK;IAAA,IAAAC,eAAA;IACpE,MAAMC,IAAI,IAAAD,eAAA,GAAGD,CAAC,CAACG,MAAM,CAACC,KAAK,cAAAH,eAAA,uBAAdA,eAAA,CAAiB,CAAC,CAAC;IAChC,IAAI,CAACC,IAAI,EAAE;IACX,MAAMG,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,MAAM,GAAG,MAAM;MACpB,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;MACvBD,GAAG,CAACD,MAAM,GAAG,MAAM;QACjB,MAAMG,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;QAC/C,MAAMC,GAAG,GAAG,GAAG;QACf,MAAMC,KAAK,GAAGC,IAAI,CAACC,GAAG,CAACH,GAAG,GAAGL,GAAG,CAACS,KAAK,EAAEJ,GAAG,GAAGL,GAAG,CAACU,MAAM,CAAC;QACzDR,MAAM,CAACO,KAAK,GAAGT,GAAG,CAACS,KAAK,GAAGH,KAAK;QAChCJ,MAAM,CAACQ,MAAM,GAAGV,GAAG,CAACU,MAAM,GAAGJ,KAAK;QAClCJ,MAAM,CACHS,UAAU,CAAC,IAAI,CAAC,CAChBC,SAAS,CAACZ,GAAG,EAAE,CAAC,EAAE,CAAC,EAAEE,MAAM,CAACO,KAAK,EAAEP,MAAM,CAACQ,MAAM,CAAC;QACpD,MAAMG,UAAU,GAAGX,MAAM,CAACY,SAAS,CAAC,YAAY,EAAE,GAAG,CAAC;QACtDxE,aAAa,CAACuE,UAAU,CAAC;QACzB,IAAI;UACFtE,YAAY,CAACwE,UAAU,CAAC,YAAY,CAAC;UACrCxE,YAAY,CAACyE,OAAO,CAAC,YAAY,EAAEH,UAAU,CAAC;QAChD,CAAC,CAAC,MAAM;UACN;QAAA;MAEJ,CAAC;MACDb,GAAG,CAACiB,GAAG,GAAGpB,MAAM,CAACqB,MAAgB;IACnC,CAAC;IACDrB,MAAM,CAACsB,aAAa,CAACzB,IAAI,CAAC;EAC5B,CAAC;EAED,MAAM0B,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAMC,GAAG,GAAG9E,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE;MAChD,MAAMZ,UAAU,CAACyF,GAAG,EAAE;QACpBvC,EAAE,EAAE,CAAC;QACL7B,SAAS,EAAEF,UAAU,CAACE,SAAS;QAC/BC,QAAQ,EAAEH,UAAU,CAACG,QAAQ;QAC7BC,KAAK,EAAEJ,UAAU,CAACI,KAAK;QACvBmE,QAAQ,EAAE;MACZ,CAAC,CAAC;MACF;MACA,MAAMtD,GAAG,GAAG,MAAMrC,WAAW,CAAC,CAAC;MAC/B,MAAMsC,CAAC,GAAGD,GAAG,CAACE,IAAI;MAClB,MAAMqD,OAAO,GAAG;QACdtE,SAAS,EAAEgB,CAAC,CAAChB,SAAS,IAAI,EAAE;QAC5BC,QAAQ,EAAEe,CAAC,CAACf,QAAQ,IAAI,EAAE;QAC1BC,KAAK,EAAEc,CAAC,CAACd,KAAK,IAAI;MACpB,CAAC;MACDT,OAAO,CAAC6E,OAAO,CAAC;MAChBvE,aAAa,CAACuE,OAAO,CAAC;MACtBzE,WAAW,CAAC,KAAK,CAAC;MAClBrB,KAAK,CAAC+F,OAAO,CAAC,kBAAkB,CAAC;IACnC,CAAC,CAAC,OAAOC,GAAQ,EAAE;MAAA,IAAAC,aAAA;MACjBjG,KAAK,CAACkG,KAAK,CAAC,CAAAF,GAAG,aAAHA,GAAG,wBAAAC,aAAA,GAAHD,GAAG,CAAEG,QAAQ,cAAAF,aAAA,uBAAbA,aAAA,CAAexD,IAAI,KAAI,yBAAyB,CAAC;IAC/D;EACF,CAAC;EAED,MAAM2D,kBAAkB,GAAGA,CAAA,KAAM;IAC/BjE,UAAU,CAAC,EAAE,CAAC;IACdE,YAAY,CAAC,EAAE,CAAC;IAChB,IAAI,CAACR,QAAQ,CAACE,OAAO,EAAE;MACrBI,UAAU,CAAC,qCAAqC,CAAC;MACjD;IACF;IACA,IAAIN,QAAQ,CAACG,IAAI,CAACqE,MAAM,GAAG,CAAC,EAAE;MAC5BlE,UAAU,CAAC,6CAA6C,CAAC;MACzD;IACF;IACA,IAAIN,QAAQ,CAACG,IAAI,KAAKH,QAAQ,CAACI,OAAO,EAAE;MACtCE,UAAU,CAAC,yBAAyB,CAAC;MACrC;IACF;IAEAE,YAAY,CAAC,gCAAgC,CAAC;IAC9CP,WAAW,CAAC;MAAEC,OAAO,EAAE,EAAE;MAAEC,IAAI,EAAE,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAC,CAAC;IACnDqE,UAAU,CAAC,MAAM;MACf1E,SAAS,CAAC,KAAK,CAAC;MAChBS,YAAY,CAAC,EAAE,CAAC;IAClB,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EAED,oBACE/B,OAAA;IAAKiG,KAAK,EAAE;MAAEC,eAAe,EAAE,SAAS;MAAEC,SAAS,EAAE;IAAQ,CAAE;IAAAC,QAAA,eAC7DpG,OAAA;MAAKqG,SAAS,EAAC,gBAAgB;MAAAD,QAAA,gBAC7BpG,OAAA;QACEqG,SAAS,EAAC,0BAA0B;QACpCJ,KAAK,EAAE;UAAEK,KAAK,EAAE,SAAS;UAAEC,aAAa,EAAE;QAAM,CAAE;QAAAH,QAAA,EACnD;MAED;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEL3G,OAAA;QACEqG,SAAS,EAAC,0BAA0B;QACpCJ,KAAK,EAAE;UACLW,QAAQ,EAAE,OAAO;UACjBC,YAAY,EAAE,MAAM;UACpBC,QAAQ,EAAE;QACZ,CAAE;QAAAV,QAAA,gBAEFpG,OAAA;UAAKiG,KAAK,EAAE;YAAEC,eAAe,EAAE,SAAS;YAAEvB,MAAM,EAAE;UAAO;QAAE;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAE9D3G,OAAA;UAAKqG,SAAS,EAAC,aAAa;UAACJ,KAAK,EAAE;YAAEc,SAAS,EAAE;UAAQ,CAAE;UAAAX,QAAA,eACzDpG,OAAA;YAAKqG,SAAS,EAAC,kCAAkC;YAAAD,QAAA,gBAC/CpG,OAAA;cACEkF,GAAG,EACD5E,UAAU,IACV,oCAAoCI,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,SAAS,IAAIR,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,QAAQ,iDACtE;cACD6F,GAAG,EAAC,SAAS;cACbX,SAAS,EAAC,oDAAoD;cAC9DJ,KAAK,EAAE;gBAAEvB,KAAK,EAAE,OAAO;gBAAEC,MAAM,EAAE,OAAO;gBAAEsC,SAAS,EAAE;cAAQ;YAAE;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChE,CAAC,eACF3G,OAAA;cACEqG,SAAS,EAAC,4DAA4D;cACtEJ,KAAK,EAAE;gBACLC,eAAe,EAAE,SAAS;gBAC1BI,KAAK,EAAE,MAAM;gBACb5B,KAAK,EAAE,MAAM;gBACbC,MAAM,EAAE,MAAM;gBACduC,OAAO,EAAE,CAAC;gBACVC,MAAM,EAAE;cACV,CAAE;cACFnE,KAAK,EAAC,cAAc;cACpBoE,OAAO,EAAEA,CAAA;gBAAA,IAAAC,qBAAA;gBAAA,QAAAA,qBAAA,GAAMhH,YAAY,CAACoB,OAAO,cAAA4F,qBAAA,uBAApBA,qBAAA,CAAsBC,KAAK,CAAC,CAAC;cAAA,CAAC;cAAAlB,QAAA,eAE7CpG,OAAA;gBACEqG,SAAS,EAAC,oBAAoB;gBAC9BJ,KAAK,EAAE;kBAAEsB,QAAQ,EAAE;gBAAU;cAAE;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7B;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACT3G,OAAA;cACEwH,GAAG,EAAEnH,YAAa;cAClBoH,IAAI,EAAC,MAAM;cACXC,MAAM,EAAC,SAAS;cAChBzB,KAAK,EAAE;gBAAE0B,OAAO,EAAE;cAAO,CAAE;cAC3BC,QAAQ,EAAEpE;YAAkB;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN3G,OAAA;UAAKqG,SAAS,EAAC,qBAAqB;UAAAD,QAAA,GACjC,CAACtF,QAAQ,gBACRd,OAAA;YAAKqG,SAAS,EAAC,aAAa;YAAAD,QAAA,gBAC1BpG,OAAA;cAAIqG,SAAS,EAAC,cAAc;cAACJ,KAAK,EAAE;gBAAEK,KAAK,EAAE;cAAU,CAAE;cAAAF,QAAA,EACtD1F,IAAI,GAAG,GAAGA,IAAI,CAACQ,SAAS,IAAIR,IAAI,CAACS,QAAQ,EAAE,GAAG;YAAG;cAAAqF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,eACL3G,OAAA;cAAGqG,SAAS,EAAC,iBAAiB;cAAAD,QAAA,EAAE1F,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEU;YAAK;cAAAoF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChD3G,OAAA;cACEqG,SAAS,EAAC,iBAAiB;cAC3BJ,KAAK,EAAE;gBACLC,eAAe,EAAE,SAAS;gBAC1BI,KAAK,EAAE,SAAS;gBAChBa,MAAM,EAAE,MAAM;gBACdN,YAAY,EAAE;cAChB,CAAE;cACFO,OAAO,EAAEA,CAAA,KAAMrG,WAAW,CAAC,IAAI,CAAE;cAAAqF,QAAA,gBAEjCpG,OAAA;gBAAGqG,SAAS,EAAC;cAAkC;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,gBAEtD;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT3G,OAAA;cACEqG,SAAS,EAAC,sBAAsB;cAChCJ,KAAK,EAAE;gBACLC,eAAe,EAAE,SAAS;gBAC1BI,KAAK,EAAE,SAAS;gBAChBa,MAAM,EAAE,MAAM;gBACdN,YAAY,EAAE;cAChB,CAAE;cACFO,OAAO,EAAEA,CAAA,KAAM9F,SAAS,CAAEuG,CAAC,IAAK,CAACA,CAAC,CAAE;cAAAzB,QAAA,gBAEpCpG,OAAA;gBAAGqG,SAAS,EAAC;cAAuB;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,mBAC3C;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,gBAEN3G,OAAA;YAAKqG,SAAS,EAAC,MAAM;YAAAD,QAAA,gBACnBpG,OAAA;cAAKqG,SAAS,EAAC,SAAS;cAAAD,QAAA,gBACtBpG,OAAA;gBAAKqG,SAAS,EAAC,OAAO;gBAAAD,QAAA,gBACpBpG,OAAA;kBAAOqG,SAAS,EAAC,8BAA8B;kBAAAD,QAAA,EAAC;gBAEhD;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACR3G,OAAA;kBACEqG,SAAS,EAAC,cAAc;kBACxByB,KAAK,EAAE9G,UAAU,CAACE,SAAU;kBAC5B0G,QAAQ,EAAGnE,CAAC,IACVxC,aAAa,CAAE4G,CAAC,KAAM;oBACpB,GAAGA,CAAC;oBACJ3G,SAAS,EAAEuC,CAAC,CAACG,MAAM,CAACkE;kBACtB,CAAC,CAAC;gBACH;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACN3G,OAAA;gBAAKqG,SAAS,EAAC,OAAO;gBAAAD,QAAA,gBACpBpG,OAAA;kBAAOqG,SAAS,EAAC,8BAA8B;kBAAAD,QAAA,EAAC;gBAEhD;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACR3G,OAAA;kBACEqG,SAAS,EAAC,cAAc;kBACxByB,KAAK,EAAE9G,UAAU,CAACG,QAAS;kBAC3ByG,QAAQ,EAAGnE,CAAC,IACVxC,aAAa,CAAE4G,CAAC,KAAM;oBACpB,GAAGA,CAAC;oBACJ1G,QAAQ,EAAEsC,CAAC,CAACG,MAAM,CAACkE;kBACrB,CAAC,CAAC;gBACH;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACN3G,OAAA;gBAAKqG,SAAS,EAAC,QAAQ;gBAAAD,QAAA,gBACrBpG,OAAA;kBAAOqG,SAAS,EAAC,8BAA8B;kBAAAD,QAAA,EAAC;gBAEhD;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACR3G,OAAA;kBACEqG,SAAS,EAAC,cAAc;kBACxByB,KAAK,EAAE9G,UAAU,CAACI,KAAM;kBACxBwG,QAAQ,EAAGnE,CAAC,IACVxC,aAAa,CAAE4G,CAAC,KAAM;oBAAE,GAAGA,CAAC;oBAAEzG,KAAK,EAAEqC,CAAC,CAACG,MAAM,CAACkE;kBAAM,CAAC,CAAC;gBACvD;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACN3G,OAAA;cAAKqG,SAAS,EAAC,mBAAmB;cAAAD,QAAA,gBAChCpG,OAAA;gBACEqG,SAAS,EAAC,sBAAsB;gBAChCJ,KAAK,EAAE;kBACLC,eAAe,EAAE,SAAS;kBAC1BI,KAAK,EAAE,SAAS;kBAChBa,MAAM,EAAE;gBACV,CAAE;gBACFC,OAAO,EAAE/B,cAAe;gBAAAe,QAAA,EACzB;cAED;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT3G,OAAA;gBACEqG,SAAS,EAAC,4CAA4C;gBACtDe,OAAO,EAAEA,CAAA,KAAMrG,WAAW,CAAC,KAAK,CAAE;gBAAAqF,QAAA,EACnC;cAED;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN,EAGAtF,MAAM,IAAI,CAACP,QAAQ,iBAClBd,OAAA;YAAKqG,SAAS,EAAC,sBAAsB;YAAAD,QAAA,gBACnCpG,OAAA;cAAIqG,SAAS,EAAC,kBAAkB;cAACJ,KAAK,EAAE;gBAAEK,KAAK,EAAE;cAAU,CAAE;cAAAF,QAAA,gBAC3DpG,OAAA;gBAAGqG,SAAS,EAAC;cAAuB;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,mBAC3C;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EACJ/E,OAAO,iBACN5B,OAAA;cAAKqG,SAAS,EAAC,+BAA+B;cAAAD,QAAA,EAAExE;YAAO;cAAA4E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAC9D,EACA7E,SAAS,iBACR9B,OAAA;cAAKqG,SAAS,EAAC,gCAAgC;cAAAD,QAAA,EAC5CtE;YAAS;cAAA0E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACP,CACN,eACD3G,OAAA;cAAKqG,SAAS,EAAC,SAAS;cAAAD,QAAA,gBACtBpG,OAAA;gBAAKqG,SAAS,EAAC,QAAQ;gBAAAD,QAAA,gBACrBpG,OAAA;kBAAOqG,SAAS,EAAC,8BAA8B;kBAAAD,QAAA,EAAC;gBAEhD;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACR3G,OAAA;kBACEyH,IAAI,EAAC,UAAU;kBACfpB,SAAS,EAAC,cAAc;kBACxB0B,WAAW,EAAC,sCAAQ;kBACpBD,KAAK,EAAEvG,QAAQ,CAACE,OAAQ;kBACxBmG,QAAQ,EAAGnE,CAAC,IACVjC,WAAW,CAAEqG,CAAC,KAAM;oBAAE,GAAGA,CAAC;oBAAEpG,OAAO,EAAEgC,CAAC,CAACG,MAAM,CAACkE;kBAAM,CAAC,CAAC;gBACvD;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACN3G,OAAA;gBAAKqG,SAAS,EAAC,QAAQ;gBAAAD,QAAA,gBACrBpG,OAAA;kBAAOqG,SAAS,EAAC,8BAA8B;kBAAAD,QAAA,EAAC;gBAEhD;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACR3G,OAAA;kBACEyH,IAAI,EAAC,UAAU;kBACfpB,SAAS,EAAC,cAAc;kBACxB0B,WAAW,EAAC,sCAAQ;kBACpBD,KAAK,EAAEvG,QAAQ,CAACG,IAAK;kBACrBkG,QAAQ,EAAGnE,CAAC,IACVjC,WAAW,CAAEqG,CAAC,KAAM;oBAAE,GAAGA,CAAC;oBAAEnG,IAAI,EAAE+B,CAAC,CAACG,MAAM,CAACkE;kBAAM,CAAC,CAAC;gBACpD;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACN3G,OAAA;gBAAKqG,SAAS,EAAC,QAAQ;gBAAAD,QAAA,gBACrBpG,OAAA;kBAAOqG,SAAS,EAAC,8BAA8B;kBAAAD,QAAA,EAAC;gBAEhD;kBAAAI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACR3G,OAAA;kBACEyH,IAAI,EAAC,UAAU;kBACfpB,SAAS,EAAC,cAAc;kBACxB0B,WAAW,EAAC,sCAAQ;kBACpBD,KAAK,EAAEvG,QAAQ,CAACI,OAAQ;kBACxBiG,QAAQ,EAAGnE,CAAC,IACVjC,WAAW,CAAEqG,CAAC,KAAM;oBAAE,GAAGA,CAAC;oBAAElG,OAAO,EAAE8B,CAAC,CAACG,MAAM,CAACkE;kBAAM,CAAC,CAAC;gBACvD;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACF,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACN3G,OAAA;cAAKqG,SAAS,EAAC,mBAAmB;cAAAD,QAAA,gBAChCpG,OAAA;gBACEqG,SAAS,EAAC,sBAAsB;gBAChCJ,KAAK,EAAE;kBACLC,eAAe,EAAE,SAAS;kBAC1BI,KAAK,EAAE,SAAS;kBAChBa,MAAM,EAAE;gBACV,CAAE;gBACFC,OAAO,EAAEtB,kBAAmB;gBAAAM,QAAA,EAC7B;cAED;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT3G,OAAA;gBACEqG,SAAS,EAAC,4CAA4C;gBACtDe,OAAO,EAAEA,CAAA,KAAM;kBACb9F,SAAS,CAAC,KAAK,CAAC;kBAChBO,UAAU,CAAC,EAAE,CAAC;kBACdL,WAAW,CAAC;oBAAEC,OAAO,EAAE,EAAE;oBAAEC,IAAI,EAAE,EAAE;oBAAEC,OAAO,EAAE;kBAAG,CAAC,CAAC;gBACrD,CAAE;gBAAAyE,QAAA,EACH;cAED;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN3G,OAAA;QAAIqG,SAAS,EAAC,0BAA0B;QAACJ,KAAK,EAAE;UAAEK,KAAK,EAAE;QAAU,CAAE;QAAAF,QAAA,gBACnEpG,OAAA;UAAGqG,SAAS,EAAC;QAAoC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,uBAExD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEJ/F,UAAU,CAACmF,MAAM,gBAChB/F,OAAA;QAAKqG,SAAS,EAAC,KAAK;QAAAD,QAAA,EACjBxF,UAAU,CAAC8B,GAAG,CAAEsF,IAAI,iBACnBhI,OAAA;UAAKqG,SAAS,EAAC,oBAAoB;UAAAD,QAAA,eACjCpG,OAAA,CAACR,IAAI;YAAC6G,SAAS,EAAC,cAAc;YAAAD,QAAA,gBAC5BpG,OAAA,CAACR,IAAI,CAACyI,GAAG;cACPC,OAAO,EAAC,KAAK;cACbhD,GAAG,EAAE8C,IAAI,CAAC9E,QAAS;cACnB8D,GAAG,EAAEgB,IAAI,CAAChF,KAAM;cAChBiD,KAAK,EAAE;gBAAEtB,MAAM,EAAE,OAAO;gBAAEsC,SAAS,EAAE;cAAQ;YAAE;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChD,CAAC,eACF3G,OAAA,CAACR,IAAI,CAAC2I,IAAI;cAAA/B,QAAA,gBACRpG,OAAA,CAACR,IAAI,CAAC4I,KAAK;gBAAAhC,QAAA,EAAE4B,IAAI,CAAChF;cAAK;gBAAAwD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAa,CAAC,eACrC3G,OAAA,CAACR,IAAI,CAAC6I,IAAI;gBAAChC,SAAS,EAAC,YAAY;gBAAAD,QAAA,EAC9B4B,IAAI,CAAC/E;cAAW;gBAAAuD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACZ3G,OAAA,CAACR,IAAI,CAAC8I,MAAM;cAACjC,SAAS,EAAC,4BAA4B;cAAAD,QAAA,eACjDpG,OAAA;gBACEqG,SAAS,EAAC,+BAA+B;gBACzCJ,KAAK,EAAE;kBAAEsB,QAAQ,EAAE;gBAAS;cAAE;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5B;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV;QAAC,GApBgCqB,IAAI,CAACnF,GAAG;UAAA2D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAqB5C,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,gBAEN3G,OAAA;QAAGqG,SAAS,EAAC,aAAa;QAACJ,KAAK,EAAE;UAAEK,KAAK,EAAE;QAAU,CAAE;QAAAF,QAAA,GAAC,mDACL,EAAC,GAAG,eACrDpG,OAAA;UAAGqG,SAAS,EAAC;QAAiC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,yBAErD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CACJ;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEH,CAAC;AAEV,CAAC;AAACzG,EAAA,CArbID,eAAwD;EAAA,QACzCN,OAAO,EACTF,WAAW;AAAA;AAAA8I,EAAA,GAFxBtI,eAAwD;AAub9D,eAAeA,eAAe;AAAC,IAAAsI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}